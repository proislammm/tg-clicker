<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–æ—Å–º–∏—á–µ—Å–∫–∏–π –≠–≤–æ–ª—é—Ü–∏–æ–Ω–µ—Ä - –ö–ª–∏–∫–µ—Ä</title>
    <style>
        :root {
            --primary: #00f3ff;
            --secondary: #bc13fe;
            --bg: #050510;
            --panel: #121225;
            --text: #ffffff;
            --success: #00ff9d;
            --danger: #ff4757;
        }

        * { box-sizing: border-box; user-select: none; -webkit-user-select: none; }

        body {
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Roboto, sans-serif;
            background-color: var(--bg);
            color: var(--text);
            overflow: hidden;
            height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* –ê–Ω–∏–º–∞—Ü–∏—è —Ñ–æ–Ω–∞ */
        .stars {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none;
            z-index: -1;
            background-image: 
                radial-gradient(2px 2px at 20px 30px, #eee, rgba(0,0,0,0)),
                radial-gradient(2px 2px at 40px 70px, #fff, rgba(0,0,0,0)),
                radial-gradient(2px 2px at 50px 160px, #ddd, rgba(0,0,0,0)),
                radial-gradient(2px 2px at 90px 40px, #fff, rgba(0,0,0,0)),
                radial-gradient(2px 2px at 130px 80px, #fff, rgba(0,0,0,0));
            background-repeat: repeat;
            background-size: 200px 200px;
            animation: starsMove 100s linear infinite;
            opacity: 0.5;
        }

        @keyframes starsMove {
            from { background-position: 0 0; }
            to { background-position: 0 1000px; }
        }

        /* UI Layout */
        .game-container {
            display: flex;
            flex: 1;
            height: 100%;
            max-width: 1200px;
            margin: 0 auto;
            width: 100%;
        }

        /* –õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å (–ö–ª–∏–∫) */
        .click-section {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
            padding: 20px;
        }

        .stats-box {
            text-align: center;
            margin-bottom: 40px;
            background: rgba(18, 18, 37, 0.8);
            padding: 20px;
            border-radius: 15px;
            border: 1px solid rgba(0, 243, 255, 0.2);
            backdrop-filter: blur(5px);
            width: 100%;
            max-width: 400px;
        }

        .energy-display {
            font-size: 2.5rem;
            font-weight: bold;
            color: var(--primary);
            text-shadow: 0 0 10px var(--primary);
            margin-bottom: 5px;
        }

        .per-second {
            font-size: 1rem;
            color: #aaa;
        }

        .prestige-display {
            margin-top: 10px;
            color: var(--secondary);
            font-weight: bold;
            font-size: 1.1rem;
            display: none; /* –°–∫—Ä—ã—Ç–æ –¥–æ –ø–µ—Ä–≤–æ–≥–æ –ø—Ä–µ—Å—Ç–∏–∂–∞ */
        }

        .main-orb {
            width: 220px;
            height: 220px;
            border-radius: 50%;
            background: radial-gradient(circle at 30% 30%, var(--primary), #004e92, #000);
            box-shadow: 0 0 30px rgba(0, 243, 255, 0.4), inset 0 0 20px rgba(255,255,255,0.2);
            cursor: pointer;
            transition: transform 0.1s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            z-index: 10;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .main-orb:active {
            transform: scale(0.95);
        }

        .main-orb::after {
            content: '';
            position: absolute;
            top: -10px; left: -10px; right: -10px; bottom: -10px;
            border-radius: 50%;
            border: 2px solid var(--primary);
            opacity: 0;
            animation: pulseRing 2s infinite;
        }

        @keyframes pulseRing {
            0% { transform: scale(1); opacity: 0.5; }
            100% { transform: scale(1.3); opacity: 0; }
        }

        /* –ü—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å (–ú–∞–≥–∞–∑–∏–Ω) */
        .shop-section {
            width: 400px;
            background: var(--panel);
            border-left: 2px solid #2a2a40;
            display: flex;
            flex-direction: column;
            box-shadow: -5px 0 20px rgba(0,0,0,0.5);
        }

        .tabs {
            display: flex;
            background: #0a0a15;
        }

        .tab-btn {
            flex: 1;
            padding: 15px;
            background: none;
            border: none;
            color: #888;
            cursor: pointer;
            font-weight: bold;
            transition: 0.3s;
            border-bottom: 3px solid transparent;
        }

        .tab-btn.active {
            color: var(--text);
            background: #1a1a2e;
            border-bottom-color: var(--primary);
        }

        .shop-container {
            flex: 1;
            overflow-y: auto;
            padding: 10px;
        }

        .shop-container::-webkit-scrollbar {
            width: 8px;
        }
        .shop-container::-webkit-scrollbar-thumb {
            background: #333;
            border-radius: 4px;
        }

        .upgrade-item {
            background: rgba(255,255,255,0.05);
            margin-bottom: 10px;
            padding: 12px;
            border-radius: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            transition: all 0.2s;
            border: 1px solid transparent;
        }

        .upgrade-item:hover {
            background: rgba(255,255,255,0.1);
            transform: translateX(-2px);
        }

        .upgrade-item.affordable {
            border-color: rgba(0, 243, 255, 0.3);
        }

        .upgrade-item.disabled {
            opacity: 0.5;
            cursor: not-allowed;
            filter: grayscale(1);
        }

        .item-icon {
            font-size: 24px;
            width: 40px;
            text-align: center;
        }

        .item-info {
            flex: 1;
            padding: 0 10px;
        }

        .item-name {
            font-weight: bold;
            font-size: 0.95rem;
            color: var(--primary);
        }

        .item-desc {
            font-size: 0.75rem;
            color: #aaa;
        }

        .item-cost {
            font-weight: bold;
            color: #fbca1f;
            font-size: 0.9rem;
        }

        .item-count {
            background: #222;
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 0.75rem;
            margin-left: 5px;
            color: #fff;
        }

        /* Rebirth Modal */
        .rebirth-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 100;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s;
        }

        .rebirth-overlay.active {
            opacity: 1;
            pointer-events: all;
        }

        .rebirth-modal {
            background: #1a0b2e;
            padding: 40px;
            border-radius: 20px;
            border: 2px solid var(--secondary);
            text-align: center;
            max-width: 500px;
            box-shadow: 0 0 50px rgba(188, 19, 254, 0.3);
            transform: scale(0.8);
            transition: transform 0.3s;
        }

        .rebirth-overlay.active .rebirth-modal {
            transform: scale(1);
        }

        .rebirth-btn-main {
            background: linear-gradient(45deg, #bc13fe, #7a00ff);
            border: none;
            padding: 15px 30px;
            color: white;
            font-weight: bold;
            border-radius: 25px;
            font-size: 1.2rem;
            cursor: pointer;
            margin-top: 20px;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .rebirth-btn-main:hover {
            transform: scale(1.05);
            box-shadow: 0 0 20px var(--secondary);
        }

        /* Floating Text & Particles */
        .floating-text {
            position: absolute;
            color: #fff;
            font-weight: bold;
            pointer-events: none;
            animation: floatUp 1s forwards;
            font-size: 1.2rem;
            text-shadow: 0 0 5px rgba(0,0,0,0.5);
            z-index: 50;
        }

        @keyframes floatUp {
            0% { transform: translateY(0) scale(1); opacity: 1; }
            100% { transform: translateY(-50px) scale(1.2); opacity: 0; }
        }

        .particle {
            position: absolute;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            pointer-events: none;
            z-index: 40;
        }

        /* Responsive */
        @media (max-width: 800px) {
            .game-container { flex-direction: column; }
            .shop-section { width: 100%; height: 50%; }
            .click-section { height: 50%; }
            .main-orb { width: 150px; height: 150px; }
        }

        .btn-utility {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            color: white;
            padding: 8px 12px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.8rem;
            z-index: 20;
        }
        .btn-utility:hover { background: rgba(255,255,255,0.2); }

        .btn-prestige-open {
            position: absolute;
            top: 20px;
            left: 20px;
            background: linear-gradient(45deg, #4a0080, #bc13fe);
            border: none;
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: bold;
            box-shadow: 0 0 10px rgba(188, 19, 254, 0.4);
            display: none; /* JS —É–ø—Ä–∞–≤–ª—è–µ—Ç –≤–∏–¥–∏–º–æ—Å—Ç—å—é */
            z-index: 20;
        }
        .btn-prestige-open:hover { transform: scale(1.05); }

    </style>
</head>
<body>

    <div class="stars"></div>

    <!-- UI Buttons -->
    <button class="btn-utility" onclick="toggleSound()">üîä –ó–≤—É–∫: –í–∫–ª</button>
    <button id="btnPrestigeOpen" class="btn-prestige-open" onclick="openRebirthModal()">üåÄ –ü–µ—Ä–µ—Ä–æ–∂–¥–µ–Ω–∏–µ</button>

    <div class="game-container">
        <!-- –°–µ–∫—Ü–∏—è –ö–ª–∏–∫–∞ -->
        <div class="click-section">
            <div class="stats-box">
                <div class="energy-display"><span id="energy">0</span> ‚ö°</div>
                <div class="per-second"><span id="mps">0</span> –≤ —Å–µ–∫.</div>
                <div class="prestige-display" id="prestigeStats">
                    <span id="darkMatter">0</span> üü£ –¢–µ–º–Ω–æ–π –ú–∞—Ç–µ—Ä–∏–∏
                    <br><span style="font-size: 0.8em; font-weight: normal; color: #d896ff;">(–ë–æ–Ω—É—Å: +<span id="dmBonus">0</span>%)</span>
                </div>
            </div>

            <div class="main-orb" id="orb"></div>
        </div>

        <!-- –°–µ–∫—Ü–∏—è –ú–∞–≥–∞–∑–∏–Ω–∞ -->
        <div class="shop-section">
            <div class="tabs">
                <button class="tab-btn active" onclick="switchTab('buildings')">üè≠ –ó–¥–∞–Ω–∏—è</button>
                <button class="tab-btn" onclick="switchTab('upgrades')">‚ö° –£–ª—É—á—à–µ–Ω–∏—è –∫–ª–∏–∫–∞</button>
            </div>

            <div id="shopBuildings" class="shop-container">
                <!-- Items generated by JS -->
            </div>
            <div id="shopUpgrades" class="shop-container" style="display:none;">
                <!-- Click upgrades generated by JS -->
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ü–µ—Ä–µ—Ä–æ–∂–¥–µ–Ω–∏—è -->
    <div class="rebirth-overlay" id="rebirthModal">
        <div class="rebirth-modal">
            <h2 style="color: var(--secondary); margin-top: 0;">–ö–æ—Å–º–∏—á–µ—Å–∫–∏–π –ö–æ–ª–ª–∞–ø—Å</h2>
            <p>–í—ã —Å–æ–±–∏—Ä–∞–µ—Ç–µ—Å—å —Å–∂–∞—Ç—å –≤—Å–µ–ª–µ–Ω–Ω—É—é –≤ —Å–∏–Ω–≥—É–ª—è—Ä–Ω–æ—Å—Ç—å.</p>
            <div style="margin: 20px 0; padding: 15px; background: rgba(0,0,0,0.3); border-radius: 10px;">
                <p>–í—ã –ø–æ—Ç–µ—Ä—è–µ—Ç–µ: <span style="color: var(--danger)">–í—Å—é –≠–Ω–µ—Ä–≥–∏—é –∏ –ó–¥–∞–Ω–∏—è</span></p>
                <p>–í—ã –ø–æ–ª—É—á–∏—Ç–µ: <span style="color: var(--secondary); font-size: 1.5rem; font-weight: bold;" id="potentialDM">0</span> üü£ –¢–ú</p>
            </div>
            <p style="font-size: 0.9em; color: #aaa;">–ö–∞–∂–¥–∞—è –µ–¥–∏–Ω–∏—Ü–∞ –¢–µ–º–Ω–æ–π –ú–∞—Ç–µ—Ä–∏–∏ (–¢–ú) —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –≤—Å–µ –¥–æ—Ö–æ–¥—ã –Ω–∞ 10%.</p>
            <button class="rebirth-btn-main" onclick="doRebirth()">–ü–ï–†–ï–†–û–î–ò–¢–¨–°–Ø</button>
            <button style="margin-top: 10px; background: transparent; border: none; color: #aaa; cursor: pointer; text-decoration: underline;" onclick="closeRebirthModal()">–û—Ç–º–µ–Ω–∞</button>
        </div>
    </div>

    <script>
        /* --- –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø –ò–ì–†–´ --- */
        const GAME_VERSION = '1.0';
        const SAVE_KEY = 'cosmicClickerSave_v1';
        
        // –ó–¥–∞–Ω–∏—è (–ü–∞—Å—Å–∏–≤–Ω—ã–π –¥–æ—Ö–æ–¥)
        const buildingsData = [
            { id: 'cursor', name: '–ê–≤—Ç–æ-–ö–ª–∏–∫–µ—Ä', icon: 'üëÜ', baseCost: 15, baseProd: 0.5, desc: '–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–ª–∏–∫–∞–µ—Ç –∑–∞ –≤–∞—Å.' },
            { id: 'drone', name: '–®–∞—Ö—Ç–µ—Ä—Å–∫–∏–π –î—Ä–æ–Ω', icon: 'üöÅ', baseCost: 100, baseProd: 4, desc: '–î–æ–±—ã–≤–∞–µ—Ç —ç–Ω–µ—Ä–≥–∏—é –∏–∑ –∫–æ—Å–º–∏—á–µ—Å–∫–æ–π –ø—ã–ª–∏.' },
            { id: 'farm', name: '–≠–Ω–µ—Ä–≥–æ-–§–µ—Ä–º–∞', icon: 'üîã', baseCost: 1100, baseProd: 22, desc: '–í—ã—Ä–∞—â–∏–≤–∞–µ—Ç –±–∞—Ç–∞—Ä–µ–π–∫–∏ –Ω–∞ –≥—Ä—è–¥–∫–∞—Ö.' },
            { id: 'factory', name: '–ü–ª–∞–∑–º–µ–Ω–Ω—ã–π –ó–∞–≤–æ–¥', icon: 'üè≠', baseCost: 12000, baseProd: 95, desc: '–ü–µ—Ä–µ—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –º–∞—Ç–µ—Ä–∏—é –≤ –ø–ª–∞–∑–º—É.' },
            { id: 'mine', name: '–ê—Å—Ç–µ—Ä–æ–∏–¥–Ω–∞—è –®–∞—Ö—Ç–∞', icon: '‚òÑÔ∏è', baseCost: 130000, baseProd: 450, desc: '–ë—É—Ä–∏—Ç –≥–ª—É–±–æ–∫–æ –≤ –∞—Å—Ç–µ—Ä–æ–∏–¥—ã.' },
            { id: 'station', name: '–ö–æ—Å–º–∏—á–µ—Å–∫–∞—è –°—Ç–∞–Ω—Ü–∏—è', icon: 'üõ∞Ô∏è', baseCost: 1400000, baseProd: 2100, desc: '–û—Ä–±–∏—Ç–∞–ª—å–Ω–∞—è –±–∞–∑–∞ —Å–±–æ—Ä–∞ —ç–Ω–µ—Ä–≥–∏–∏.' },
            { id: 'dyson', name: '–°—Ñ–µ—Ä–∞ –î–∞–π—Å–æ–Ω–∞', icon: '‚òÄÔ∏è', baseCost: 20000000, baseProd: 12500, desc: '–û–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç –∑–≤–µ–∑–¥—É –¥–ª—è 100% –ö–ü–î.' },
            { id: 'blackhole', name: '–≠–∫—Å—Ç—Ä–∞–∫—Ç–æ—Ä –î—ã—Ä—ã', icon: 'üåÄ', baseCost: 330000000, baseProd: 85000, desc: '–¢—è–Ω–µ—Ç —ç–Ω–µ—Ä–≥–∏—é –∏–∑ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞ —Å–æ–±—ã—Ç–∏–π.' }
        ];

        // –£–ª—É—á—à–µ–Ω–∏—è –∫–ª–∏–∫–∞
        const clickUpgradesData = [
            { id: 'click1', name: '–£—Å–∏–ª–µ–Ω–Ω—ã–π –ø–∞–ª–µ—Ü', icon: 'üí™', baseCost: 500, power: 1, desc: '+1 –∫ —Å–∏–ª–µ –∫–ª–∏–∫–∞' },
            { id: 'click2', name: '–ö–≤–∞–Ω—Ç–æ–≤–∞—è –ø–µ—Ä—á–∞—Ç–∫–∞', icon: 'üß§', baseCost: 2500, power: 5, desc: '+5 –∫ —Å–∏–ª–µ –∫–ª–∏–∫–∞' },
            { id: 'click3', name: '–ù–∞–Ω–æ-—Å—Ç–∏–º—É–ª—è—Ü–∏—è', icon: 'üíâ', baseCost: 10000, power: 25, desc: '+25 –∫ —Å–∏–ª–µ –∫–ª–∏–∫–∞' },
            { id: 'click4', name: '–ü—Å–∏-—É–¥–∞—Ä', icon: 'üß†', baseCost: 50000, power: 100, desc: '+100 –∫ —Å–∏–ª–µ –∫–ª–∏–∫–∞' },
            { id: 'click5', name: '–ö–∞—Å–∞–Ω–∏–µ –ë–æ–≥–∞', icon: '‚ö°', baseCost: 1000000, power: 1500, desc: '+1500 –∫ —Å–∏–ª–µ –∫–ª–∏–∫–∞' }
        ];

        /* --- –°–û–°–¢–û–Ø–ù–ò–ï –ò–ì–†–´ --- */
        let state = {
            energy: 0,
            lifetimeEnergy: 0,
            totalClicks: 0,
            startTime: Date.now(),
            buildings: {}, // { id: count }
            clickUpgrades: {}, // { id: bought_boolean }
            darkMatter: 0, // –í–∞–ª—é—Ç–∞ –ø—Ä–µ—Å—Ç–∏–∂–∞
            rebirthCount: 0
        };

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—É—Å—Ç—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
        buildingsData.forEach(b => state.buildings[b.id] = 0);
        clickUpgradesData.forEach(u => state.clickUpgrades[u.id] = false);

        let soundEnabled = true;
        let autoSaveInterval;
        let audioCtx = null;

        /* --- –ê–£–î–ò–û –°–ò–°–¢–ï–ú–ê (–°–∏–Ω—Ç–µ–∑–∞—Ç–æ—Ä) --- */
        function initAudio() {
            if (!audioCtx) {
                audioCtx = new (window.AudioContext || window.webkitAudioContext)();
            }
            if (audioCtx.state === 'suspended') {
                audioCtx.resume();
            }
        }

        function playSound(type) {
            if (!soundEnabled || !audioCtx) return;
            
            const osc = audioCtx.createOscillator();
            const gainNode = audioCtx.createGain();
            
            osc.connect(gainNode);
            gainNode.connect(audioCtx.destination);

            const now = audioCtx.currentTime;

            if (type === 'click') {
                // –í—ã—Å–æ–∫–∏–π –ø–∏–∫
                osc.type = 'sine';
                osc.frequency.setValueAtTime(800, now);
                osc.frequency.exponentialRampToValueAtTime(300, now + 0.1);
                gainNode.gain.setValueAtTime(0.1, now);
                gainNode.gain.exponentialRampToValueAtTime(0.01, now + 0.1);
                osc.start(now);
                osc.stop(now + 0.1);
            } else if (type === 'buy') {
                // –ü—Ä–∏—è—Ç–Ω—ã–π –º–∞–∂–æ—Ä–Ω—ã–π –∑–≤—É–∫
                osc.type = 'triangle';
                osc.frequency.setValueAtTime(440, now); // A4
                osc.frequency.setValueAtTime(554, now + 0.1); // C#5
                gainNode.gain.setValueAtTime(0.1, now);
                gainNode.gain.linearRampToValueAtTime(0, now + 0.3);
                osc.start(now);
                osc.stop(now + 0.3);
            } else if (type === 'rebirth') {
                // –ì–ª—É–±–æ–∫–∏–π –≥—É–ª
                osc.type = 'sawtooth';
                osc.frequency.setValueAtTime(100, now);
                osc.frequency.exponentialRampToValueAtTime(10, now + 2);
                gainNode.gain.setValueAtTime(0.3, now);
                gainNode.gain.linearRampToValueAtTime(0, now + 2);
                osc.start(now);
                osc.stop(now + 2);
            }
        }

        function toggleSound() {
            soundEnabled = !soundEnabled;
            document.querySelector('.btn-utility').innerText = soundEnabled ? 'üîä –ó–≤—É–∫: –í–∫–ª' : 'üîá –ó–≤—É–∫: –í—ã–∫–ª';
        }

        /* --- –õ–û–ì–ò–ö–ê –ò–ì–†–´ --- */

        function getBuildingCost(id) {
            const b = buildingsData.find(x => x.id === id);
            return Math.floor(b.baseCost * Math.pow(1.15, state.buildings[id]));
        }

        function getProductionPerSecond() {
            let prod = 0;
            buildingsData.forEach(b => {
                prod += b.baseProd * state.buildings[b.id];
            });
            // –ë–æ–Ω—É—Å –æ—Ç –¢–µ–º–Ω–æ–π –ú–∞—Ç–µ—Ä–∏–∏ (10% –∑–∞ –∫–∞–∂–¥—É—é)
            let multiplier = 1 + (state.darkMatter * 0.10);
            return prod * multiplier;
        }

        function getClickPower() {
            let power = 1; // –ë–∞–∑–∞
            clickUpgradesData.forEach(u => {
                if (state.clickUpgrades[u.id]) power += u.power;
            });
            // –ë–æ–Ω—É—Å –æ—Ç –¢–µ–º–Ω–æ–π –ú–∞—Ç–µ—Ä–∏–∏
            let multiplier = 1 + (state.darkMatter * 0.10);
            return power * multiplier;
        }

        function formatNumber(num) {
            if (num < 1000) return Math.floor(num);
            const suffixes = ["", "k", "M", "B", "T", "Qa", "Qi"];
            const suffixNum = Math.floor(("" + Math.floor(num)).length / 3);
            
            let shortValue = parseFloat((suffixNum !== 0 ? (num / Math.pow(1000, suffixNum)) : num).toPrecision(3));
            if (shortValue % 1 !== 0) {
                shortValue = shortValue.toFixed(1);
            }
            return shortValue + suffixes[suffixNum];
        }

        /* --- –í–ó–ê–ò–ú–û–î–ï–ô–°–¢–í–ò–ï --- */

        // –û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∏–∫
        document.getElementById('orb').addEventListener('mousedown', (e) => {
            initAudio(); // –ó–∞–ø—É—Å–∫ –∞—É–¥–∏–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
            
            const power = getClickPower();
            state.energy += power;
            state.lifetimeEnergy += power;
            state.totalClicks++;
            
            playSound('click');
            createFloatingText(e.clientX, e.clientY, `+${formatNumber(power)}`);
            createParticles(e.clientX, e.clientY);
            updateUI();
              
